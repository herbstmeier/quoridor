import{B as i}from"./BigInput-0a04d775.js";import{d as t,_ as l,r as m,o as d,b as u,a as r,g as a,h as p}from"./index-7c747679.js";const h=t({name:"RegisterView",components:{BigInput:i},data(){return{username:{value:"",valid:!1},password:{value:"",valid:!1},passwordConfirm:{value:"",valid:!1},confirmError:""}},methods:{registerSubmit(s){this.$axios.post("/user/register",new FormData(s.target))},onUsernameChange(s){this.username.value=s},onPwChange(s){this.password.value=s,this.password.value!=this.passwordConfirm.value?this.confirmError="passwords must match":this.confirmError=""},onPwConfirmChange(s){this.passwordConfirm.value=s,this.password.value!=this.passwordConfirm.value?this.confirmError="passwords must match":this.confirmError=""},onUsernameVal(s){this.username.valid=s},onPwVal(s){this.password.valid=s},onPwConfirmVal(s){this.passwordConfirm.valid=s}},computed:{isValid(){return this.username.valid&&this.password.valid&&this.passwordConfirm.valid&&this.password.value==this.passwordConfirm.value}}}),f={class:"auth-form-container"},w=r("span",{class:"font-m"},"Register",-1),g=["disabled"];function v(s,o,C,c,V,b){const e=m("BigInput");return d(),u("div",f,[w,r("form",{class:"auth-form list-card",novalidate:"",onSubmit:o[0]||(o[0]=p((...n)=>s.registerSubmit&&s.registerSubmit(...n),["prevent"])),ref:"registerForm"},[a(e,{label:"username",val:{required:!0,minlength:3,maxlength:30,type:"text"},onChange:s.onUsernameChange,onValidation:s.onUsernameVal},null,8,["onChange","onValidation"]),a(e,{label:"password",val:{required:!0,minlength:4,maxlength:50,type:"password"},onChange:s.onPwChange,onValidation:s.onPwVal},null,8,["onChange","onValidation"]),a(e,{label:"confirm password",val:{required:!0,type:"password"},customError:s.confirmError,onChange:s.onPwConfirmChange,onValidation:s.onPwConfirmVal,ref:"pwConfirmBigInput"},null,8,["customError","onChange","onValidation"]),r("button",{class:"auth-submit",type:"submit",disabled:!s.isValid},"sign up",8,g)],544)])}const P=l(h,[["render",v]]);export{P as default};
