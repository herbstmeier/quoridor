import{B as r}from"./BigInput-7f5b356f.js";import{d,u as o,_ as l,r as u,o as m,b as p,a as s,g as n,h as c}from"./index-3f31a3d8.js";const f=d({name:"LoginView",data(){return{username:{value:"",valid:!1},password:{value:"",valid:!1}}},methods:{async loginSubmit(a){this.$axios.post("/user/login",new FormData(a.target)).then(e=>{o.set(e.data.userData),o.setStorage(e.data.token,e.data.userData.userId)})},onUsernameVal(a){this.username.valid=a},onPasswordVal(a){this.password.valid=a}},components:{BigInput:r},computed:{isValid(){return this.username.valid&&this.password.valid}}}),g={class:"auth-form-container"},h=s("span",{class:"font-m"},"Login",-1),v=["disabled"];function V(a,e,b,w,_,B){const t=u("BigInput");return m(),p("div",g,[h,s("form",{class:"auth-form list-card",novalidate:"",onSubmit:e[0]||(e[0]=c((...i)=>a.loginSubmit&&a.loginSubmit(...i),["prevent"]))},[n(t,{label:"username",val:{required:!0,type:"text"},onValidation:a.onUsernameVal},null,8,["onValidation"]),n(t,{label:"password",val:{required:!0,type:"password"},onValidation:a.onPasswordVal},null,8,["onValidation"]),s("button",{class:"auth-submit",type:"submit",disabled:!a.isValid},"sign in",8,v)],32)])}const y=l(f,[["render",V]]);export{y as default};
