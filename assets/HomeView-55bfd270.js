import{G as k}from"./Game-9af6c930.js";import{d as _,_ as p,r,o as t,c as a,w as v,a as s,t as c,b as d,n as I,m as b,e as l,F as y,f as w,U as $,g as L,u as G}from"./index-7c747679.js";const C=_({name:"GameListItem",props:{game:{type:k,required:!0}}});function U(e,o,m,g,f,h){const n=r("router-link");return t(),a(n,{to:{name:"game",params:{id:e.game.gameId}},class:"list-item-container"},{default:v(()=>[s("div",null,c(e.game.gameName),1),s("div",null,c(),1),s("div",null,c(e.game.nPlayers),1)]),_:1},8,["to"])}const V=p(C,[["render",U]]),O=_({name:"GameList",props:{title:String,icon:String,games:{type:Array,required:!0}},components:{GameListItem:V},methods:{}}),A={class:"list-card"},B={class:"list-title"},F={key:1,class:"font-s"},N={class:"list-container"},S=s("div",{class:"list-item-container top-row"},[s("div",null,"name"),s("div",null,"author")],-1);function q(e,o,m,g,f,h){const n=r("font-awesome-icon"),i=r("GameListItem");return t(),d("div",A,[s("div",B,[e.icon?(t(),a(n,I(b({key:0},{icon:e.icon})),null,16)):l("",!0),e.title?(t(),d("div",F,c(e.title),1)):l("",!0)]),s("div",N,[S,(t(!0),d(y,null,w(e.games,u=>(t(),a(i,{key:u.game_id,game:u},null,8,["game"]))),128))])])}const H=p(O,[["render",q]]),P=_({name:"UserListItem",props:{user:{type:Object,required:!0}}});function j(e,o,m,g,f,h){const n=r("router-link");return t(),a(n,{to:{name:"user",params:{id:e.user.userId}},class:"list-item-container"},{default:v(()=>[s("div",null,c(e.user.username),1),s("div",null,c(e.user.wins),1)]),_:1},8,["to"])}const z=p(P,[["render",j]]),D=_({name:"LeaderboardComponent",components:{UserListItem:z},data(){return{users:[$.getFake(),$.getFake()]}},mounted:async function(){this.$axios.get("/user").then(e=>{this.users=e.data.sort((o,m)=>o.wins-m.wins)})}}),E={class:"list-card"},J={class:"list-title"},K={class:"list-container"},M=s("div",{class:"list-item-container top-row"},[s("div",null,"username"),s("div",null,"wins")],-1);function Q(e,o,m,g,f,h){const n=r("font-awesome-icon"),i=r("UserListItem");return t(),d("div",E,[s("div",J,[L(n,{icon:"fas fa-trophy"})]),s("div",K,[M,(t(!0),d(y,null,w(e.users,u=>(t(),a(i,{user:u,key:u.userId},null,8,["user"]))),128))])])}const R=p(D,[["render",Q]]),T=_({name:"HomeView",data(){return{createdGames:new Array,ongoingGames:new Array,userOngoingGames:new Array}},components:{GameList:H,LeaderboardComponent:R},methods:{},mounted:async function(){this.$axios.get("/game?state=0").then(e=>{this.createdGames=e.data}),this.$axios.get("/game?state=1").then(e=>{this.ongoingGames=e.data,G.isSet()&&(this.userOngoingGames=this.ongoingGames.filter(o=>o.hasUser(G.data.userId)))})}});const W={class:"home-container"};function X(e,o,m,g,f,h){const n=r("LeaderboardComponent"),i=r("GameList");return t(),d("div",W,[L(n),e.userOngoingGames.length>0?(t(),a(i,{key:0,games:e.userOngoingGames,icon:"fas fa-chess-board"},null,8,["games"])):l("",!0),e.createdGames.length>0?(t(),a(i,{key:1,games:e.createdGames,icon:"fas fa-hat-cowboy"},null,8,["games"])):l("",!0),e.ongoingGames.length>0?(t(),a(i,{key:2,games:e.ongoingGames,icon:"fas fa-binoculars"},null,8,["games"])):l("",!0)])}const x=p(T,[["render",X]]);export{x as default};
