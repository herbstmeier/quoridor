import{B as t}from"./BigInput-54d1f66a.js";import{d as i,_ as l,r as d,o as m,b as u,a as r,g as s,h as p}from"./index-0506f903.js";const h=i({name:"RegisterView",components:{BigInput:t},data(){return{username:{value:"",valid:!1},password:{value:"",valid:!1},passwordConfirm:{value:"",valid:!1},confirmError:""}},methods:{registerSubmit(e){this.$axios.post("/user/register",new FormData(e.target))},onUsernameChange(e){this.username.value=e},onPwChange(e){this.password.value=e,this.password.value!=this.passwordConfirm.value?this.confirmError="passwords must match":this.confirmError=""},onPwConfirmChange(e){this.passwordConfirm.value=e,this.password.value!=this.passwordConfirm.value?this.confirmError="passwords must match":this.confirmError=""},onUsernameVal(e){this.username.valid=e},onPwVal(e){this.password.valid=e},onPwConfirmVal(e){this.passwordConfirm.valid=e}},computed:{isValid(){return this.username.valid&&this.password.valid&&this.passwordConfirm.valid&&this.password.value==this.passwordConfirm.value}}}),f={class:"auth-form-container"},w=r("span",{class:"font-m"},"Register",-1),c=["disabled"];function g(e,o,v,C,V,b){const a=d("BigInput");return m(),u("div",f,[w,r("form",{class:"auth-form list-card",novalidate:"",onSubmit:o[0]||(o[0]=p((...n)=>e.registerSubmit&&e.registerSubmit(...n),["prevent"])),ref:"registerForm"},[s(a,{label:"username",val:{required:!0,minlength:3,maxlength:30,type:"text"},onChange:e.onUsernameChange,onValidation:e.onUsernameVal},null,8,["onChange","onValidation"]),s(a,{label:"password",val:{required:!0,minlength:4,maxlength:50,type:"password",pattern:"^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[^a-zA-Z\\d]).{4,50}$"},customError:"password must be at least 4 characters long and include at least one digit, lowercase letter, uppercase letter and special character",onChange:e.onPwChange,onValidation:e.onPwVal},null,8,["val","onChange","onValidation"]),s(a,{label:"confirm password",val:{required:!0,type:"password"},customError:e.confirmError,forceCustomError:!0,onChange:e.onPwConfirmChange,onValidation:e.onPwConfirmVal,ref:"pwConfirmBigInput"},null,8,["customError","onChange","onValidation"]),r("button",{class:"auth-submit",type:"submit",disabled:!e.isValid},"sign up",8,c)],544)])}const P=l(h,[["render",g]]);export{P as default};
