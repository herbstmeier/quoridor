import{G as L}from"./Game-0da4cdeb.js";import{d as g,U as k,_ as h,r,o as n,c as m,w as y,a as l,b as t,t as p,e as _,n as C,m as I,F as v,f as G,g as $,u as w}from"./index-52d4ad67.js";const b=g({name:"GameListItem",props:{game:{type:L,required:!0}},data(){return{author:k.getEmpty()}},computed:{timeSinceCreated(){let e="";const s=(Date.now()-new Date(this.game.createdAt).getTime())/1e3,o=s/60,i=o/60,c=i/24;return c>0?e=c+"d":i>0?e=i+"h":o>0?e=o+"m":e=s+"s",e}},mounted:function(){this.game&&this.$axios.get(`/user?userId=${this.game.createdBy}`).then(e=>{this.author=e.data.user})}});function V(e,s,o,i,c,f){const a=r("router-link");return e.game.gameId?(n(),m(a,{key:0,to:{name:"game",params:{id:e.game.gameId}},class:"list-item-container"},{default:y(()=>[t("div",null,p(e.author.username),1),t("div",null,p(e.timeSinceCreated),1),t("div",null,p(e.game.nPlayers),1)]),_:1},8,["to"])):l("",!0)}const N=h(b,[["render",V]]),U=g({name:"GameList",props:{title:String,icon:String,games:{type:Array,required:!0}},components:{GameListItem:N},methods:{}}),A={class:"card"},S={class:"card-title"},B={key:1,class:"font-s"},O={class:"list-container"},q=t("div",{class:"list-item-container top-row"},[t("div",null,"name"),t("div",null,"author")],-1);function D(e,s,o,i,c,f){const a=r("font-awesome-icon"),d=r("GameListItem");return n(),_("div",A,[t("div",S,[e.icon?(n(),m(a,C(I({key:0},{icon:e.icon})),null,16)):l("",!0),e.title?(n(),_("div",B,p(e.title),1)):l("",!0)]),t("div",O,[q,(n(!0),_(v,null,G(e.games,u=>(n(),m(d,{key:u.game_id,game:u},null,8,["game"]))),128))])])}const H=h(U,[["render",D]]),P=g({name:"UserListItem",props:{user:{type:Object,required:!0}}});function E(e,s,o,i,c,f){const a=r("router-link");return n(),m(a,{to:{name:"user",params:{id:e.user.userId}},class:"list-item-container"},{default:y(()=>[t("div",null,p(e.user.username),1),t("div",null,p(e.user.wins),1)]),_:1},8,["to"])}const F=h(P,[["render",E]]),j=g({name:"LeaderboardComponent",components:{UserListItem:F},data(){return{users:new Array}},mounted:async function(){this.$axios.get("/user").then(e=>{this.users=e.data.sort((s,o)=>s.wins-o.wins)})}}),z={key:0,class:"card"},T={class:"card-title"},J={class:"list-container"},K=t("div",{class:"list-item-container top-row"},[t("div",null,"username"),t("div",null,"wins")],-1);function M(e,s,o,i,c,f){const a=r("font-awesome-icon"),d=r("UserListItem");return e.users.length>0?(n(),_("div",z,[t("div",T,[$(a,{icon:"fas fa-trophy"})]),t("div",J,[K,(n(!0),_(v,null,G(e.users,u=>(n(),m(d,{user:u,key:u.userId},null,8,["user"]))),128))])])):l("",!0)}const Q=h(j,[["render",M]]),R=g({name:"NewGameComponent"});const W={class:"card"},X={class:"card-title"},Y=t("div",{class:"create-container"},[t("div",{class:"setup-container"}),t("button",null,"go")],-1);function Z(e,s,o,i,c,f){const a=r("font-awesome-icon");return n(),_("div",W,[t("div",X,[$(a,{icon:"fas fa-plus"})]),Y])}const x=h(R,[["render",Z]]),ee=g({name:"HomeView",data(){return{createdGames:new Array,ongoingGames:new Array,userOngoingGames:new Array}},components:{GameList:H,LeaderboardComponent:Q,NewGameComponentVue:x},methods:{},mounted:async function(){this.$axios.get("/game?state=0").then(e=>{this.createdGames=e.data}),this.$axios.get("/game?state=1").then(e=>{this.ongoingGames=e.data,w.isSet()&&(this.userOngoingGames=this.ongoingGames.filter(s=>s.hasUser(w.data.userId)))})}});const te={class:"home-container"};function ne(e,s,o,i,c,f){const a=r("LeaderboardComponent"),d=r("GameList"),u=r("NewGameComponentVue");return n(),_("div",te,[$(a),e.userOngoingGames.length>0?(n(),m(d,{key:0,games:e.userOngoingGames,icon:"fas fa-chess-board"},null,8,["games"])):l("",!0),e.createdGames.length>0?(n(),m(d,{key:1,games:e.createdGames,icon:"fas fa-hat-cowboy"},null,8,["games"])):l("",!0),e.ongoingGames.length>0?(n(),m(d,{key:2,games:e.ongoingGames,icon:"fas fa-binoculars"},null,8,["games"])):l("",!0),$(u,{class:"new-game-card"})])}const ae=h(ee,[["render",ne]]);export{ae as default};
